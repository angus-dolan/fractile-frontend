import{V as kt,b as Tt,c as At,_ as Vt}from"./VCard.230e99da.js";import{k as h,C as w,s as f,J as K,K as E,L as ne,r as se,T as Et,M as It,_ as We,N as Ot,O as Rt,P as Mt,a as T,n as J,Q as ie,R as Lt,S as le,U as ce,q as l,W as Ke,X as Ye,Y as Ft,Z as Bt,$ as Ee,a0 as Dt,c as $,a1 as qe,a2 as Xe,a3 as re,F as D,V as Nt,a4 as jt,d as G,a5 as Ut,a6 as zt,A as P,u as y,a7 as Gt,i as Ze,l as k,I as Je,a8 as Ht,B as Q,v as Qe,a9 as Wt,aa as Kt,ab as Yt,ac as et,e as qt,o as tt,w as z,ad as Xt,ae as Zt,af as Jt,ag as Ie,ah as Qt,ai as er,aj as tr,ak as rr,al as ar,am as or,an as nr,G as sr,ao as Z,x as A,y as B,j as rt,ap as be,aq as ir,ar as lr,as as cr,at as ur,au as dr,av as fr,aw as pr,ax as yr,ay as mr,t as Oe,az as vr,aA as hr,aB as gr,aC as _r}from"./entry.c8cb6bef.js";import{a as Y,u as xr}from"./chat.09be6870.js";import{c as Ce,u as Re,V as at}from"./VSheet.5eaab143.js";import{V as N,a as V,b as ot}from"./VRow.993ee49f.js";import{I as br}from"./IconSend.be326f2b.js";import{V as Cr}from"./VAlert.3a0caf25.js";import{m as $r,u as wr}from"./layout.fd25a13a.js";var Pr=Function.prototype.toString,ge=Object.create,Sr=Object.prototype.toString,kr=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(t){return!!~this._keys.indexOf(t)},e.prototype.get=function(t){return this._values[this._keys.indexOf(t)]},e.prototype.set=function(t,r){this._keys.push(t),this._values.push(r)},e}();function Tr(){return new kr}function Ar(){return new WeakMap}var Vr=typeof WeakMap<"u"?Ar:Tr;function $e(e){if(!e)return ge(null);var t=e.constructor;if(t===Object)return e===Object.prototype?{}:ge(e);if(~Pr.call(t).indexOf("[native code]"))try{return new t}catch{}return ge(e)}function Er(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}function Ir(e){return e.flags}var Or=/test/g.flags==="g"?Ir:Er;function nt(e){var t=Sr.call(e);return t.substring(8,t.length-1)}function Rr(e){return e[Symbol.toStringTag]||nt(e)}var Mr=typeof Symbol<"u"?Rr:nt,Lr=Object.defineProperty,Fr=Object.getOwnPropertyDescriptor,st=Object.getOwnPropertyNames,we=Object.getOwnPropertySymbols,it=Object.prototype,lt=it.hasOwnProperty,Br=it.propertyIsEnumerable,ct=typeof we=="function";function Dr(e){return st(e).concat(we(e))}var Nr=ct?Dr:st;function ue(e,t,r){for(var a=Nr(e),n=0,o=a.length,s=void 0,i=void 0;n<o;++n)if(s=a[n],!(s==="callee"||s==="caller")){if(i=Fr(e,s),!i){t[s]=r.copier(e[s],r);continue}!i.get&&!i.set&&(i.value=r.copier(i.value,r));try{Lr(t,s,i)}catch{t[s]=i.value}}return t}function jr(e,t){var r=new t.Constructor;t.cache.set(e,r);for(var a=0,n=e.length;a<n;++a)r[a]=t.copier(e[a],t);return r}function Ur(e,t){var r=new t.Constructor;return t.cache.set(e,r),ue(e,r,t)}function ut(e,t){return e.slice(0)}function zr(e,t){return e.slice(0,e.size,e.type)}function Gr(e,t){return new t.Constructor(ut(e.buffer))}function Hr(e,t){return new t.Constructor(e.getTime())}function dt(e,t){var r=new t.Constructor;return t.cache.set(e,r),e.forEach(function(a,n){r.set(n,t.copier(a,t))}),r}function Wr(e,t){return ue(e,dt(e,t),t)}function Kr(e,t){var r=$e(t.prototype);t.cache.set(e,r);for(var a in e)lt.call(e,a)&&(r[a]=t.copier(e[a],t));return r}function Yr(e,t){var r=$e(t.prototype);t.cache.set(e,r);for(var a in e)lt.call(e,a)&&(r[a]=t.copier(e[a],t));for(var n=we(e),o=0,s=n.length,i=void 0;o<s;++o)i=n[o],Br.call(e,i)&&(r[i]=t.copier(e[i],t));return r}var qr=ct?Yr:Kr;function Xr(e,t){var r=$e(t.prototype);return t.cache.set(e,r),ue(e,r,t)}function _e(e,t){return new t.Constructor(e.valueOf())}function Zr(e,t){var r=new t.Constructor(e.source,Or(e));return r.lastIndex=e.lastIndex,r}function ee(e,t){return e}function ft(e,t){var r=new t.Constructor;return t.cache.set(e,r),e.forEach(function(a){r.add(t.copier(a,t))}),r}function Jr(e,t){return ue(e,ft(e,t),t)}var Qr=Array.isArray,Pe=Object.assign,ea=Object.getPrototypeOf||function(e){return e.__proto__},pt={array:jr,arrayBuffer:ut,blob:zr,dataView:Gr,date:Hr,error:ee,map:dt,object:qr,regExp:Zr,set:ft},ta=Pe({},pt,{array:Ur,map:Wr,object:Xr,set:Jr});function ra(e){return{Arguments:e.object,Array:e.array,ArrayBuffer:e.arrayBuffer,Blob:e.blob,Boolean:_e,DataView:e.dataView,Date:e.date,Error:e.error,Float32Array:e.arrayBuffer,Float64Array:e.arrayBuffer,Int8Array:e.arrayBuffer,Int16Array:e.arrayBuffer,Int32Array:e.arrayBuffer,Map:e.map,Number:_e,Object:e.object,Promise:ee,RegExp:e.regExp,Set:e.set,String:_e,WeakMap:ee,WeakSet:ee,Uint8Array:e.arrayBuffer,Uint8ClampedArray:e.arrayBuffer,Uint16Array:e.arrayBuffer,Uint32Array:e.arrayBuffer,Uint64Array:e.arrayBuffer}}function Se(e){var t=Pe({},pt,e),r=ra(t),a=r.Array,n=r.Object;function o(s,i){if(i.prototype=i.Constructor=void 0,!s||typeof s!="object")return s;if(i.cache.has(s))return i.cache.get(s);if(i.prototype=ea(s),i.Constructor=i.prototype&&i.prototype.constructor,!i.Constructor||i.Constructor===Object)return n(s,i);if(Qr(s))return a(s,i);var u=r[Mr(s)];return u?u(s,i):typeof s.then=="function"?s:n(s,i)}return function(i){return o(i,{Constructor:void 0,cache:Vr(),copier:o,prototype:void 0})}}function aa(e){return Se(Pe({},ta,e))}aa({});Se({});var ae=e=>Array.isArray(e),oa=e=>e===!0||e===!1,H=e=>Object.prototype.toString.call(e)==="[object String]",Me=e=>Symbol.iterator in Object(e),ke=e=>Object.prototype.toString.call(e).includes("Object"),na=e=>typeof e>"u"||e===null||e===!1||Number.isNaN(e)||e===0||e===BigInt(0)||e===""||Me(e)&&typeof e=="object"&&"length"in e&&e.length===0||Me(e)&&typeof e=="object"&&"size"in e&&e.size===0?!0:ke(e)?!Object.keys(e).length:!1,oe=e=>typeof e=="number"&&!isNaN(e),sa=e=>Object.prototype.toString.call(e)==="[object Function]",Te=e=>oe(e)&&e%1===0,ia=e=>e===null||typeof e>"u",la={condition:"Assert condition failed","no-value":"Assert value not undefined/null failed"},Le=(e,t,r)=>[la[e],t?`: ${t}`:null,na(r)?null:`: ${JSON.stringify(r)}`].filter(Boolean).join(""),ca=e=>(t,r,a)=>new Error(e(t,r,a)),ua=()=>({formatter:Le,errorCreator:ca(Le)}),F=ua(),yt=e=>(t,r,a)=>{const n=(i,u)=>F.errorCreator(i,r,u),o=(i,u,c)=>{var v,p;c&&((v=F.errorReporter)==null||v.call(F,i,c,r,u)),!c&&((p=F.warningReporter)==null||p.call(F,i,r,u))},s=sa(a)?a():a??{};if(oa(t)&&!t){if(!e){const i=n("condition",s);throw o("condition",s,i),i}return o("condition",s),!1}if(ia(t)){if(!e){const i=n("no-value",s);throw o("no-value",s,i),i}return o("no-value",s),!1}return t},da=yt(!1),fa=yt(!0),pa=da;pa.soft=fa;var ya=(e,t=-1/0,r=1/0)=>Math.max(t??-1/0,Math.min(e,r??1/0));Se({});var ma=/\p{Lu}/u,va=/\p{Ll}/u,Fe=/^\p{Lu}(?!\p{Lu})/gu,mt=/([\p{Alpha}\p{N}_]|$)/u,vt=/[ \-._]+/,ha=new RegExp(`^${vt.source}`),Be=new RegExp(vt.source+mt.source,"gu"),De=new RegExp(`\\d+${mt.source}`,"gu"),ga={preserveConsecutiveUppercase:!1},_a=e=>{let t=!1,r=!1,a=!1;for(let n=0;n<e.length;n++){const o=e[n];t&&ma.test(o)?(e=`${e.slice(0,n)}-${e.slice(n)}`,t=!1,a=r,r=!0,n++):r&&a&&va.test(o)?(e=`${e.slice(0,n-1)}-${e.slice(n-1)}`,a=r,r=!1,t=!0):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,a=r,r=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e},xa=e=>(Fe.lastIndex=0,e.replace(Fe,t=>t.toLowerCase())),ba=e=>(Be.lastIndex=0,De.lastIndex=0,e.replace(Be,(t,r)=>r.toUpperCase()).replace(De,t=>t.toUpperCase())),Ca=(e,t)=>{if(!ae(!e)&&!H(e))throw new TypeError("Expected the input to be `string | string[]`");return t={...ga,...t},e=ae(e)?e.map(r=>r.trim()).filter(Boolean).join("-"):e.trim(),e.length?e.length===1?e.toLowerCase():(e!==e.toLowerCase()&&(e=_a(e)),e=e.replace(ha,""),e=t.preserveConsecutiveUppercase?xa(e):e.toLowerCase(),ba(e)):""},$a=(e,t)=>{const r={numbers:!1,...t};let a=e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s._]+/g,"-");return r.numbers?(a=a.replace(/\d+/,"-$&").replace(/(\d)([A-Z])/g,"$1-$2"),a.startsWith("-")?a.slice(1).toLowerCase():a.toLowerCase()):a.toLowerCase()},wa={preserveConsecutiveUppercase:!1},Pa=(e,t)=>{const r=Ca(e,{...wa,...t});return r.length?r[0].toUpperCase()+r.slice(1):""};const M=(e,t)=>t(e)?!0:!ke(e)||Object.keys(e).length!==2?!1:!Object.entries(e).some(([r,a])=>{const n=!["enter","leave"].includes(r),o=!t(a);return n||o}),Sa=e=>M(e,t=>Te(t)&&t>=0),ka=e=>M(e,t=>H(t)&&t.trim()!==""),Ta=e=>M(e,t=>Te(t)&&t>=0),ht=300,Aa="cubic-bezier(.25, .8, .5, 1)",Va=0,Ea="y",Ia=[0,-16],Oa="both",Ra="50% 50%",Ma=0,La=ht,de={inheritAttrs:!1,props:{duration:{validator:Sa,default:ht},easing:{validator:ka,default:()=>Aa},delay:{validator:Ta,default:Va},noOpacity:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},mode:{type:String,default:void 0},group:{type:Boolean,default:!1},tag:{type:String,default:"span"},noMove:{type:Boolean,default:!1},moveDuration:{type:Number,default:La}},computed:{cComponent(){return this.group?Et:It},cAttrs(){const{appear:e,mode:t,tag:r,duration:a}=this;return this.group?{appear:e,tag:r,duration:a,...this.$attrs}:{appear:e,mode:t,duration:a}},cHooks(){return{beforeEnter:(...e)=>{this.reduceTransition(...e),this.$emit("before-enter",...e)},beforeLeave:(...e)=>{var t;this.reduceTransition(...e),(t=this.initLeaving)==null||t.call(this,...e),this.$emit("before-leave",...e)},enter:(...e)=>{var t;(t=this.onEnter)==null||t.call(this,...e),this.$emit("enter",...e)},leave:(...e)=>{var t;(t=this.onLeave)==null||t.call(this,...e),this.$emit("leave",...e)},afterEnter:(...e)=>{var t;this.resetTransition(...e),(t=this.resetElement)==null||t.call(this,...e),this.$emit("after-enter",...e)},afterLeave:(...e)=>{var t;this.resetTransition(...e),(t=this.resetElement)==null||t.call(this,...e),this.$emit("after-leave",...e)}}}},methods:{setupTransition(e,t="enter"){var r,a,n,o,s,i;const u=(a=(r=this.duration)==null?void 0:r[t])!=null?a:this.duration,c=(o=(n=this.easing)==null?void 0:n[t])!=null?o:this.easing,v=(i=(s=this.delay)==null?void 0:s[t])!=null?i:this.delay;e.style.setProperty("transition-duration",`${u}ms`,"important"),e.style.setProperty("transition-timing-function",`${c}`,"important"),e.style.setProperty("transition-delay",`${v}ms`,"important")},reduceTransition(e){e.style.setProperty("transition-duration","0ms","important"),e.style.setProperty("transition-delay","0ms","important")},resetTransition(e){e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-timing-function"),e.style.removeProperty("transition-delay")},initLeaving(e){if(!this.group||this.noMove)return e;const t=getComputedStyle(e),{width:r,height:a}=t,{marginLeft:n,marginTop:o}=t;return e.style.setProperty("left",`${e.offsetLeft-parseFloat(n)}px`,"important"),e.style.setProperty("top",`${e.offsetTop-parseFloat(o)}px`,"important"),e.style.setProperty("width",`${parseFloat(r)}px`,"important"),e.style.setProperty("height",`${parseFloat(a)}px`,"important"),e.style.setProperty("position","absolute","important"),e},setMoveDuration(){var e;this.group&&this.$el&&((e=this.$el.style)==null||e.setProperty("--move-duration",`${this.moveDuration}ms`))}},watch:{moveDuration(){this.setMoveDuration()},group(){this.setMoveDuration()}},mounted(){this.setMoveDuration()}},Fa=e=>M(e,t=>H(t)&&["x","y"].includes(t)),fe=(e,t)=>{const r=e.__vccOpts||e;for(const[a,n]of t)r[a]=n;return r},Ba={name:"transition-expand",mixins:[de],props:{axis:{validator:Fa,default:Ea}},data:()=>({}),computed:{},methods:{async onEnter(e){await this.$nextTick(),await this.$nextTick(),this.getSizes(e),this.collapseElement(e,"enter"),e.offsetTop,this.setupTransition(e,"enter"),this.expandElement(e,"enter")},onLeave(e){this.getSizes(e),this.expandElement(e,"leave"),e.offsetTop,this.setupTransition(e,"leave"),this.collapseElement(e,"leave")},expandElement(e,t="enter"){var r,a;const n=(a=(r=this.axis)==null?void 0:r[t])!=null?a:this.axis,o=n==="x"?"left":"top",s=n==="x"?"right":"bottom",i=e.visual.size[n],u=e.visual.margin[n],c=e.visual.padding[n];this.noOpacity||e.style.setProperty("opacity",e.visual.opacity),delete e.visual,e.style.setProperty(n==="x"?"width":"height",`${parseFloat(i)}px`),e.style.setProperty(`padding-${o}`,`${parseFloat(c[0])}px`),e.style.setProperty(`padding-${s}`,`${parseFloat(c[1])}px`),e.style.setProperty(`margin-${o}`,`${parseFloat(u[0])}px`),e.style.setProperty(`margin-${s}`,`${parseFloat(u[1])}px`)},collapseElement(e,t="enter"){var r,a;const n=(a=(r=this.axis)==null?void 0:r[t])!=null?a:this.axis,o=n==="x"?"width":"height",s=n==="x"?"left":"top",i=n==="x"?"right":"bottom";this.noOpacity||e.style.setProperty("opacity",0),e.style.setProperty(o,"0px"),e.style.setProperty(`padding-${s}`,"0px"),e.style.setProperty(`padding-${i}`,"0px"),e.style.setProperty(`margin-${s}`,"0px"),e.style.setProperty(`margin-${i}`,"0px")},resetElement(e){e.style.removeProperty("opacity"),e.style.removeProperty("width"),e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-right"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("padding-left"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-right"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("margin-left")},getSizes(e){const t=getComputedStyle(e),{opacity:r}=t,{width:a,height:n}=t,{paddingTop:o,paddingRight:s,paddingBottom:i,paddingLeft:u}=t,{marginTop:c,marginRight:v,marginBottom:p,marginLeft:m}=t;e.visual={opacity:r,size:{x:a,y:n},padding:{x:[u,s],y:[o,i]},margin:{x:[m,v],y:[c,p]}}}}};function Da(e,t,r,a,n,o){return h(),w(se(e.cComponent),E({name:"expand"},e.cAttrs,ne(e.cHooks)),{default:f(()=>[K(e.$slots,"default")]),_:3},16)}const Ne=fe(Ba,[["render",Da]]),Na={name:"transition-fade",mixins:[de],props:{},data:()=>({}),computed:{},methods:{onEnter(e){this.fadeElement(e,"enter"),e.offsetTop,this.setupTransition(e,"enter"),this.$nextTick(()=>e.style.removeProperty("opacity"))},onLeave(e){this.setupTransition(e,"leave"),this.fadeElement(e,"leave")},fadeElement(e,t="enter"){e.style.setProperty("opacity",0)},resetElement(e){e.style.removeProperty("opacity")}}};function ja(e,t,r,a,n,o){return h(),w(se(e.cComponent),E({name:"fade"},e.cAttrs,ne(e.cHooks)),{default:f(()=>[K(e.$slots,"default")]),_:3},16)}const je=fe(Na,[["render",ja]]),Ua=e=>M(e,t=>H(t)&&["x","y","both"].includes(t)),za=e=>M(e,t=>H(t)&&t.trim()!==""),Ga=e=>M(e,t=>oe(t)&&t>=0&&t<=1),gt=e=>{const t=e.startsWith("matrix3d")?"matrix3d":"matrix",r=t==="matrix3d"?e.slice(9,-1).split(",").map(Number):e.startsWith("matrix")?e.slice(7,-1).split(",").map(Number):[1,0,0,1,0,0];return[t,r]},Ha={name:"transition-scale",mixins:[de],props:{axis:{validator:Ua,default:Oa},origin:{validator:za,default:Ra},scale:{validator:Ga,default:Ma}},data:()=>({}),computed:{},methods:{onEnter(e){this.scaleElement(e,"enter"),e.offsetTop,this.setupTransition(e,"enter"),this.$nextTick(()=>{e.style.removeProperty("opacity"),e.style.removeProperty("transform")})},onLeave(e){this.setupTransition(e,"leave"),this.scaleElement(e,"leave")},scaleElement(e,t="enter"){var r,a,n,o,s,i;const{transform:u}=getComputedStyle(e),c=(a=(r=this.axis)==null?void 0:r[t])!=null?a:this.axis,v=(o=(n=this.origin)==null?void 0:n[t])!=null?o:this.origin,p=ya(1e-4,(i=(s=this.scale)==null?void 0:s[t])!=null?i:this.scale,.9999),[m,d]=gt(u);u.startsWith("matrix3d")?(c!=="y"&&(d[0]=p),c!=="x"&&(d[5]=p)):u.startsWith("matrix")?(c!=="y"&&(d[0]=p),c!=="x"&&(d[3]=p)):(d[0]=c==="y"?1:p,d[3]=c==="x"?1:p),this.noOpacity||e.style.setProperty("opacity",0),e.style.setProperty("transform",`${m}(${d})`),e.style.setProperty("transform-origin",`${v}`)},resetElement(e){e.style.removeProperty("opacity"),e.style.removeProperty("transform"),e.style.removeProperty("transform-origin")}}};function Wa(e,t,r,a,n,o){return h(),w(se(e.cComponent),E({name:"scale"},e.cAttrs,ne(e.cHooks)),{default:f(()=>[K(e.$slots,"default")]),_:3},16)}const Ue=fe(Ha,[["render",Wa]]),Ka=e=>M(e,t=>!ae(t)||t.length!==2?!1:!t.some(r=>Te(r)?!1:H(r)?isNaN(Number(r.endsWith("%")?r.slice(0,-1):r)):!0)),Ya={name:"transition-slide",mixins:[de],props:{offset:{validator:Ka,default:()=>Ia}},data:()=>({}),computed:{},methods:{onEnter(e){this.slideElement(e,"enter"),e.offsetTop,this.setupTransition(e,"enter"),e.style.removeProperty("opacity"),e.style.removeProperty("transform")},onLeave(e){this.setupTransition(e,"leave"),this.slideElement(e,"leave")},slideElement(e,t="enter"){var r,a;const{width:n,height:o,transform:s}=getComputedStyle(e),i=(a=(r=this.offset)==null?void 0:r[t])!=null?a:this.offset;let[u,c]=i;oe(u)||(u=u.endsWith("%")?parseFloat(n)*(parseFloat(u.slice(0,-1))||0)/100:parseFloat(u)),oe(c)||(c=c.endsWith("%")?parseFloat(o)*(parseFloat(c.slice(0,-1))||0)/100:parseFloat(c));const[v,p]=gt(s);s.startsWith("matrix3d")?(p[12]+=u,p[13]+=c):s.startsWith("matrix")?(p[4]+=u,p[5]+=c):(p[4]=u,p[5]=c),this.noOpacity||e.style.setProperty("opacity",0),e.style.setProperty("transform",`${v}(${p})`)},resetElement(e){e.style.removeProperty("opacity"),e.style.removeProperty("transform")}}};function qa(e,t,r,a,n,o){return h(),w(se(e.cComponent),E({name:"slide"},e.cAttrs,ne(e.cHooks)),{default:f(()=>[K(e.$slots,"default")]),_:3},16)}const xe=fe(Ya,[["render",qa]]),te={[Ne.name]:Ne,[je.name]:je,[Ue.name]:Ue,[xe.name]:xe},ze=(e,t,r)=>{var a;(a=e.props)!=null||(e.props={}),e.props[t]={default:ae(r)||ke(r)?()=>r:r}},Ge=(e,t)=>{var r,a,n;const o=$a(e),s=Pa(e),i=(r=t==null?void 0:t.defaultProps)!=null?r:{},u=(n=(a=t==null?void 0:t.componentDefaultProps)==null?void 0:a[s])!=null?n:{};return Object.entries(i).forEach(([c,v])=>{ze(te[o],c,v)}),Object.entries(u).forEach(([c,v])=>{ze(te[o],c,v)}),te[o]},Xa=function(e,t={}){t!=null&&t.components?Object.entries(t.components).forEach(([r,a])=>{e.component(a,Ge(r,t))}):Object.keys(te).forEach(r=>{e.component(r,Ge(r,t))})};typeof window<"u"&&window.Vue&&window.Vue.use({install:Xa});const Za={name:"TransitionSlide",inheritAttrs:!1,components:{TheTransition:xe}};function Ja(e,t,r,a,n,o){const s=Ot("the-transition");return h(),w(s,Rt(Mt(e.$attrs)),{default:f(()=>[K(e.$slots,"default")]),_:3},16)}const Qa=We(Za,[["render",Ja]]);function eo(){const e=Y(),t=T(!1),r=T(""),a=T(1),n=m=>["Delete","Backspace"].includes(m),o=m=>m===`
`,s=()=>{a.value>1&&a.value--},i=()=>{a.value<5&&a.value++},u=(m,d,x,_)=>{d!==x?_.value.substring(d,x).includes(`
`)&&(a.value=1):(m.key==="Delete"&&o(_.value[d])||m.key==="Backspace"&&o(_.value[d-1]))&&s()},c=(m,d,x,_)=>{if(m.preventDefault(),m.shiftKey){i();const b=r.value.substring(0,d),L=r.value.substring(x);r.value=`${b}
${L}`,J(()=>{_.setSelectionRange(d+1,d+1)})}else p()},v=m=>{if(!t.value)return;const d=m.target,x=d.selectionStart,_=d.selectionEnd;n(m.key)?u(m,x,_,d):m.key==="Enter"&&c(m,x,_,d)},p=()=>{e.pending||(e.query(r.value),r.value="",a.value=1)};return{inputActive:t,rows:a,prompt:r,handleKeydown:v,submit:p}}var to=Ce("exclamation-circle","IconExclamationCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 9v4",key:"svg-1"}],["path",{d:"M12 16v.01",key:"svg-2"}]]),ro=Ce("message-cog","IconMessageCog",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M12.031 18.581l-4.031 2.419v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v5",key:"svg-2"}],["path",{d:"M19.001 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M19.001 15.5v1.5",key:"svg-4"}],["path",{d:"M19.001 21v1.5",key:"svg-5"}],["path",{d:"M22.032 17.25l-1.299 .75",key:"svg-6"}],["path",{d:"M17.27 20l-1.3 .75",key:"svg-7"}],["path",{d:"M15.97 17.25l1.3 .75",key:"svg-8"}],["path",{d:"M20.733 20l1.3 .75",key:"svg-9"}]]),ao=Ce("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);const oo=ie({...Lt({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),no=le()({name:"VRadio",props:oo(),setup(e,t){let{slots:r}=t;return ce(()=>l(Ke,E(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),r)),{}}});const so=ie({height:{type:[Number,String],default:"auto"},...Ye(),...Ft(Bt(),["multiple"]),trueIcon:{type:Ee,default:"$radioOn"},falseIcon:{type:Ee,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),io=le()({name:"VRadioGroup",inheritAttrs:!1,props:so(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:a}=t;const n=Dt(),o=$(()=>e.id||`radio-group-${n}`),s=qe(e,"modelValue");return ce(()=>{const[i,u]=Xe(r),[c,v]=re.filterProps(e),[p,m]=Ke.filterProps(e),d=a.label?a.label({label:e.label,props:{for:o.value}}):e.label;return l(re,E({class:["v-radio-group",e.class],style:e.style},i,c,{modelValue:s.value,"onUpdate:modelValue":x=>s.value=x,id:o.value}),{...a,default:x=>{let{id:_,messagesId:b,isDisabled:L,isReadonly:pe}=x;return l(D,null,[d&&l(Nt,{id:_.value},{default:()=>[d]}),l(jt,E(p,{id:_.value,"aria-describedby":b.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:L.value,readonly:pe.value,"aria-labelledby":d?_.value:void 0,multiple:!1},u,{modelValue:s.value,"onUpdate:modelValue":ye=>s.value=ye}),a)])}})}),{}}}),lo={class:"pl-6 pr-4 py-6 d-flex justify-space-between align-center"},co=P("h4",null,"Select",-1),uo=G({__name:"CorpusDialog",props:["visible"],emits:["update:visible"],setup(e,{emit:t}){const r=Y(),a=xr(),n=$(()=>{var c;return(c=r.corpus)==null?void 0:c.id});function o(c){r.setCorpus(c),u()}function s(c){c.target.classList.value=="v-overlay__scrim"&&u()}function i(){r.unsetCorpus(),u()}function u(){t("update:visible",!1)}return Ut(()=>{a.fetchAll()}),(c,v)=>(h(),w(N,{justify:"center"},{default:f(()=>[l(zt,{onClick:s,"model-value":e.visible,scrollable:"",width:"auto"},{default:f(()=>[l(kt,null,{default:f(()=>[P("div",lo,[co,P("div",{class:"cursor-pointer",onClick:u},[l(y(Gt))])]),l(Tt,{style:"height: 300px; min-width: 350px"},{default:f(()=>[l(io,{modelValue:y(n),"onUpdate:modelValue":v[0]||(v[0]=p=>Ze(n)?n.value=p:null),column:""},{default:f(()=>[(h(!0),k(D,null,Je(y(a).all(),p=>(h(),w(no,{class:"font-weight-semibold border pa-4 rounded-md mb-2 text-black",label:p.name,value:p.id,onClick:m=>o(p.id)},null,8,["label","value","onClick"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(Ht),l(At,null,{default:f(()=>[l(Q,{color:"error",variant:"text",onClick:i},{default:f(()=>[Qe("Reset")]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:1}))}});const fo=ie({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Ye(),...Wt()},"VTextarea"),po=le()({name:"VTextarea",directives:{Intersect:Kt},inheritAttrs:!1,props:fo(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:r,emit:a,slots:n}=t;const o=qe(e,"modelValue"),{isFocused:s,focus:i,blur:u}=Yt(e),c=$(()=>typeof e.counterValue=="function"?e.counterValue(o.value):(o.value||"").toString().length),v=$(()=>{if(r.maxlength)return r.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function p(g,S){var C,I;!e.autofocus||!g||(I=(C=S[0].target)==null?void 0:C.focus)==null||I.call(C)}const m=T(),d=T(),x=et(""),_=T(),b=$(()=>e.persistentPlaceholder||s.value||e.active);function L(){var g;_.value!==document.activeElement&&((g=_.value)==null||g.focus()),s.value||i()}function pe(g){L(),a("click:control",g)}function ye(g){a("mousedown:control",g)}function xt(g){g.stopPropagation(),L(),J(()=>{o.value="",ar(e["onClick:clear"],g)})}function bt(g){var C;const S=g.target;if(o.value=S.value,(C=e.modelModifiers)!=null&&C.trim){const I=[S.selectionStart,S.selectionEnd];J(()=>{S.selectionStart=I[0],S.selectionEnd=I[1]})}}const j=T(),q=T(+e.rows),me=$(()=>["plain","underlined"].includes(e.variant));qt(()=>{e.autoGrow||(q.value=+e.rows)});function U(){e.autoGrow&&J(()=>{if(!j.value||!d.value)return;const g=getComputedStyle(j.value),S=getComputedStyle(d.value.$el),C=parseFloat(g.getPropertyValue("--v-field-padding-top"))+parseFloat(g.getPropertyValue("--v-input-padding-top"))+parseFloat(g.getPropertyValue("--v-field-padding-bottom")),I=j.value.scrollHeight,X=parseFloat(g.lineHeight),ve=Math.max(parseFloat(e.rows)*X+C,parseFloat(S.getPropertyValue("--v-input-control-height"))),he=parseFloat(e.maxRows)*X+C||1/0,R=nr(I??0,ve,he);q.value=Math.floor((R-C)/X),x.value=or(R)})}tt(U),z(o,U),z(()=>e.rows,U),z(()=>e.maxRows,U),z(()=>e.density,U);let O;return z(j,g=>{g?(O=new ResizeObserver(U),O.observe(j.value)):O==null||O.disconnect()}),Xt(()=>{O==null||O.disconnect()}),ce(()=>{const g=!!(n.counter||e.counter||e.counterValue),S=!!(g||n.details),[C,I]=Xe(r),[{modelValue:X,...ve}]=re.filterProps(e),[he]=Zt(e);return l(re,E({ref:m,modelValue:o.value,"onUpdate:modelValue":R=>o.value=R,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--plain-underlined":me.value},e.class],style:e.style},C,ve,{centerAffix:q.value===1&&!me.value,focused:s.value}),{...n,default:R=>{let{isDisabled:W,isDirty:Ae,isReadonly:Ct,isValid:$t}=R;return l(Jt,E({ref:d,style:{"--v-textarea-control-height":x.value},onClick:pe,onMousedown:ye,"onClick:clear":xt,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},he,{active:b.value||Ae.value,centerAffix:q.value===1&&!me.value,dirty:Ae.value||e.dirty,disabled:W.value,focused:s.value,error:$t.value===!1}),{...n,default:wt=>{let{props:{class:Ve,...Pt}}=wt;return l(D,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[e.prefix]),Ie(l("textarea",E({ref:_,class:Ve,value:o.value,onInput:bt,autofocus:e.autofocus,readonly:Ct.value,disabled:W.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:L,onBlur:u},Pt,I),null),[[Qt("intersect"),{handler:p},null,{once:!0}]]),e.autoGrow&&Ie(l("textarea",{class:[Ve,"v-textarea__sizer"],"onUpdate:modelValue":St=>o.value=St,ref:j,readonly:!0,"aria-hidden":"true"},null),[[er,o.value]]),e.suffix&&l("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:S?R=>{var W;return l(D,null,[(W=n.details)==null?void 0:W.call(n,R),g&&l(D,null,[l("span",null,null),l(tr,{active:e.persistentCounter||s.value,value:c.value,max:v.value},n.counter)])])}:void 0})}),rr({},m,d,_)}}),yo={class:"w-100"},mo={key:0},vo={key:0,class:"text-center bg-purple-lighten-5 text-purple-darken-4 rounded-md px-2 mr-2",style:{"white-space":"nowrap","max-height":"24px"}},ho=G({__name:"Input",setup(e){const t=Y(),r=T(!1),{inputActive:a,rows:n,prompt:o,handleKeydown:s,submit:i}=eo(),{capitalize:u}=Re(),{t:c}=sr(),v=$(()=>u(c("enterYourQuery")));z(o,m=>{const d=(m.match(/\n/g)||[]).length,x=Math.ceil(m.length/75);n.value=Math.max(x,d+1),n.value>5&&(n.value=5)});const p=T(!1);return tt(()=>{p.value=!0}),(m,d)=>{const x=Vt,_=Qa;return h(),k("div",yo,[l(uo,{visible:y(r),"onUpdate:visible":d[0]||(d[0]=b=>r.value=b)},null,8,["visible"]),l(_,{duration:200,delay:50,easing:"ease-in-out",offset:[0,50]},{default:f(()=>[y(p)?(h(),k("div",mo,[P("form",{class:Z({"expanded-input-padding":y(n)>1})},[l(N,{class:Z(["d-flex pa-4",{"align-center":y(n)===1,"align-end":y(n)>1}])},{default:f(()=>[l(V,{cols:"2",class:"d-flex justify-end"},{default:f(()=>[l(x,{to:"/chat"},{default:f(()=>[l(Q,{"prepend-icon":y(ao),color:"primary",class:Z(["font-weight-bold",{"expanded-input-new-chat-margin":y(n)>1}]),variant:"text"},{default:f(()=>[Qe(A(m.$t("newChat")),1)]),_:1},8,["prepend-icon","class"])]),_:1})]),_:1}),l(V,{auto:""},{default:f(()=>[l(po,{ref:"promptTextarea",autofocus:!0,variant:"solo","hide-details":"",modelValue:y(o),"onUpdate:modelValue":d[2]||(d[2]=b=>Ze(o)?o.value=b:null),"no-resize":"",rows:y(n),"max-rows":"5",color:"primary",class:"shadow-none",rounded:"md",placeholder:y(v),onFocus:d[3]||(d[3]=b=>a.value=!0),onBlur:d[4]||(d[4]=b=>a.value=!1),onKeydown:y(s)},{"prepend-inner":f(()=>[P("div",{class:Z(["h-100 d-flex text-center",{"align-center":y(n)===1,"mb-4":y(n)>1}])},[l(Q,{onClick:d[1]||(d[1]=b=>r.value=!y(r)),class:"mr-2",size:"36",icon:"",color:"primary"},{default:f(()=>[l(y(ro),{size:20})]),_:1}),y(t).corpus?(h(),k("div",vo,A(("useTextTransform"in m?m.useTextTransform:y(Re))().truncate(y(t).corpus.name,8)),1)):B("",!0)],2)]),_:1},8,["modelValue","rows","placeholder","onKeydown"])]),_:1}),l(V,{cols:"2"},{default:f(()=>[l(Q,{onClick:y(i),loading:y(t).pending,color:"primary",rounded:"md",icon:""},{default:f(()=>[l(y(br),{size:20})]),_:1},8,["onClick","loading"])]),_:1})]),_:1},8,["class"])],2)])):B("",!0)]),_:1})])}}});const go=We(ho,[["__scopeId","data-v-25d85bd1"]]);function _t(e){const t=T(new Date);return setInterval(()=>{t.value=new Date},6e4),$(()=>{const a=t.value.getTime()-e.getTime(),n=Math.floor(a/1e3),o=Math.floor(n/60),s=Math.floor(o/60),i=Math.floor(s/24),u=Math.floor(i/7),c=Math.floor(i/30),v=Math.floor(i/365);return n<60?"less than a minute ago":o<60?`${o} min${o===1?"":"s"} ago`:s<24?`${s} hour${s===1?"":"s"} ago`:i<7?`${i} day${i===1?"":"s"} ago`:u<4?`${u} week${u===1?"":"s"} ago`:c<12?`${c} month${c===1?"":"s"} ago`:`${v} year${v===1?"":"s"} ago`}).value}const _o={class:"text-h5"},xo={key:0,class:"text-medium-emphasis text-subtitle-2"},bo={class:"pt-1 text-body-1"},Co=G({__name:"HumanMessage",props:{message:{}},setup(e){const t=e,r=rt();return(a,n)=>(h(),w(N,{"no-gutters":""},{default:f(()=>[l(V,{cols:"12"},{default:f(()=>[l(at,{color:"white",class:"rounded-md"},{default:f(()=>[l(ot,{fluid:""},{default:f(()=>[l(N,null,{default:f(()=>[l(V,{cols:"12",md:"1"},{default:f(()=>[l(be,{variant:"tonal",color:"primary"},{default:f(()=>{var o;return[P("span",_o,A((o=y(r).user)==null?void 0:o.getInitials()),1)]}),_:1})]),_:1}),l(V,{cols:"12",md:"11"},{default:f(()=>{var o;return[t.message.created_at?(h(),k("small",xo,A((o=y(r).user)==null?void 0:o.name)+", "+A(("useTimeAgo"in a?a.useTimeAgo:y(_t))(t.message.created_at)),1)):B("",!0),P("p",bo,A(t.message.text)+" ",1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),$o={class:"text-body-1 py-2"},wo=G({__name:"AgentMessage",props:{message:{}},setup(e){return(t,r)=>(h(),w(N,{"no-gutters":"",class:"pa-3"},{default:f(()=>[l(V,{cols:"1"},{default:f(()=>[l(be,{color:"primary"},{default:f(()=>[l(ir,{class:"pa-2",src:"/images/logos/fractile-icon-light.png",alt:"Agent Logo"})]),_:1})]),_:1}),l(V,{cols:"11"},{default:f(()=>[P("p",$o,A(t.message.text)+" ",1)]),_:1})]),_:1}))}}),Po={class:"text-h5"},So={class:"text-medium-emphasis text-subtitle-2"},ko={class:"pt-1 text-body-1"},He=G({__name:"PendingMessage",setup(e){const t=Y(),r=rt();return(a,n)=>(h(),w(N,{"no-gutters":""},{default:f(()=>[l(V,{cols:"12"},{default:f(()=>[l(at,{color:"white",class:"rounded-md"},{default:f(()=>[l(ot,{fluid:""},{default:f(()=>[l(N,null,{default:f(()=>[l(V,{cols:"12",md:"1"},{default:f(()=>[l(be,{variant:"tonal",color:"primary"},{default:f(()=>{var o;return[P("span",Po,A((o=y(r).user)==null?void 0:o.getInitials()),1)]}),_:1})]),_:1}),l(V,{cols:"12",md:"11"},{default:f(()=>{var o;return[P("small",So,A((o=y(r).user)==null?void 0:o.name)+", "+A(("useTimeAgo"in a?a.useTimeAgo:y(_t))(new Date)),1),P("p",ko,A(y(t).pendingPrompt)+" ",1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});const To=ie({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...lr(),...cr(),...ur(),...$r(),...dr(),...fr({tag:"footer"}),...pr()},"VFooter"),Ao=le()({name:"VFooter",props:To(),setup(e,t){let{slots:r}=t;const{themeClasses:a}=yr(e),{backgroundColorClasses:n,backgroundColorStyles:o}=mr(Oe(e,"color")),{borderClasses:s}=vr(e),{elevationClasses:i}=hr(e),{roundedClasses:u}=gr(e),c=et(32),{resizeRef:v}=_r(d=>{d.length&&(c.value=d[0].target.clientHeight)}),p=$(()=>e.height==="auto"?c.value:parseInt(e.height,10)),{layoutItemStyles:m}=wr({id:e.name,order:$(()=>parseInt(e.order,10)),position:$(()=>"bottom"),layoutSize:p,elementSize:$(()=>e.height==="auto"?void 0:p.value),active:$(()=>e.app),absolute:Oe(e,"absolute")});return ce(()=>l(e.tag,{ref:v,class:["v-footer",a.value,n.value,s.value,i.value,u.value,e.class],style:[o.value,e.app?m.value:void 0,e.style]},r)),{}}}),Vo={class:"d-flex"},Eo={key:0,style:"width: 60%",class:"mx-auto pa-5"},Io={key:1,style:"width: 60%",class:"mx-auto"},Oo={class:"pa-5"},Ro={key:0,class:"d-flex justify-center"},zo=G({__name:"ChatInterface",setup(e){const t=Y();return(r,a)=>{var o;const n=go;return h(),k(D,null,[P("div",Vo,[y(t).draft&&y(t).pendingPrompt.length>0?(h(),k("div",Eo,[l(He)])):B("",!0),y(t).draft?B("",!0):(h(),k("div",Io,[(h(!0),k(D,null,Je((o=y(t).conversation)==null?void 0:o.messages,s=>(h(),k("div",Oo,[s.is_human?(h(),w(Co,{key:0,message:s},null,8,["message"])):(h(),w(wo,{key:1,message:s},null,8,["message"]))]))),256)),y(t).pendingPrompt.length>0?(h(),w(He,{key:0})):B("",!0)]))]),y(t).failure?(h(),k("div",Ro,[l(Cr,{"max-width":"50%",icon:y(to),density:"compact",text:"Oops! Something went wrong with the chat.",variant:"outlined",color:"error"},null,8,["icon"])])):B("",!0),l(Ao,{class:"bg-grey100",app:""},{default:f(()=>[l(n)]),_:1})],64)}}});export{zo as _};
